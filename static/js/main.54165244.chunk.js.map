{"version":3,"sources":["components/func/saveToGoogleSheets.js","components/Login.js","components/Header.js","App.js","reportWebVitals.js","index.js"],"names":["credentials","process","doc","GoogleSpreadsheet","require","spreadsheetId","getLocalDate","currentDate","Date","setUTCHours","getUTCHours","hours","getHours","toString","padStart","minutes","getMinutes","day","getDate","month","getMonth","year","getFullYear","slice","concat","_saveToGoogleSheets","_asyncToGenerator","_regeneratorRuntime","mark","_callee","profileObj","sheet","row","wrap","_context","prev","next","useServiceAccountAuth","client_email","email","private_key","key","loadInfo","sheetsByIndex","Email","DateISO","Nome","name","codigoDia","console","log","addRow","sent","abrupt","t0","message","stop","apply","arguments","saveToGoogleSheets","_x","Login","_jsxs","className","children","_jsx","GoogleLogin","clientId","buttonText","onSuccess","googleResponse","document","getElementById","value","alert","onFailure","cookiePolicy","id","type","Header","App","reportWebVitals","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","render","React","StrictMode"],"mappings":"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","file":"static/js/main.54165244.chunk.js","sourcesContent":["var credentials = {}\r\ncredentials.email = process.env.REACT_APP_GOOGLE_EMAIL;\r\ncredentials.key = process.env.REACT_APP_GOOGLE_KEY;\r\ncredentials.spreadsheetId = process.env.REACT_APP_GOOGLE_SHEET;\r\n//console.log(process.env);\r\n//console.log(credentials.key);\r\n//console.log(process.env.REACT_APP_GOOGLE_KEY);\r\n\r\nconst { GoogleSpreadsheet } = require('google-spreadsheet');\r\n\r\n// Google Sheets Document ID -- PROD\r\nconst doc = new GoogleSpreadsheet(credentials.spreadsheetId);\r\n\r\nfunction getLocalDate(){\r\n  // Create a new Date object\r\n  const currentDate = new Date();\r\n\r\n  // Adjust the time zone offset to GMT+3 (EEST)\r\n  currentDate.setUTCHours(currentDate.getUTCHours());\r\n\r\n  // Format the date as a string in ISO format\r\n  //const isoDateGMTPlus3 = currentDate.toISOString();\r\n\r\n  const hours = currentDate.getHours().toString().padStart(2, '0');\r\n  const minutes = currentDate.getMinutes().toString().padStart(2, '0');\r\n  const day = currentDate.getDate().toString().padStart(2, '0');\r\n  const month = (currentDate.getMonth() + 1).toString().padStart(2, '0'); // Months are 0-based\r\n  const year = currentDate.getFullYear().toString().slice(-2);\r\n\r\n  const formattedDate = `${hours}:${minutes} ${day}/${month}/${year}`;\r\n  return formattedDate;\r\n\r\n}\r\n\r\nasync function saveToGoogleSheets(profileObj) {\r\n  try{\r\n    await doc.useServiceAccountAuth({\r\n        client_email: credentials.email,\r\n        private_key: credentials.key,\r\n    });\r\n\r\n    await doc.loadInfo(); // Loads document properties and worksheets\r\n\r\n    const sheet = doc.sheetsByIndex[0];\r\n    \r\n    const row = { Email: profileObj.email, DateISO: getLocalDate(), Nome: profileObj.name, codigoDia: profileObj.codigoDia};\r\n    console.log(row);\r\n    var GoogleSpreadsheetRowInserted = await sheet.addRow(row);\r\n    if(GoogleSpreadsheetRowInserted) return true;\r\n  }catch(e){\r\n      console.log(\"erro inserindo sheet\");\r\n      console.log(e.message)\r\n      return false;\r\n  }\r\n}\r\n\r\nexport default saveToGoogleSheets;\r\n","import GoogleLogin from  \"@stack-pulse/next-google-login\"\r\n\r\nimport saveToGoogleSheets from './func/saveToGoogleSheets'\r\n\r\nfunction Login() {\r\n\r\n    function onLogin(googleResponse){\r\n        console.log(googleResponse);\r\n        googleResponse.profileObj.codigoDia = document.getElementById(\"codigoDia\").value;\r\n        var inseriu = saveToGoogleSheets(googleResponse.profileObj);\r\n        if(inseriu) alert(\"Ponto registrado\");\r\n        else alert(\"Falha no ponto\")\r\n    }\r\n    function getStringClientID(){\r\n      return process.env.REACT_APP_GOOGLE_CLIENTID;\r\n    }\r\n  return (\r\n    <div className=\"GoogleLogin\">\r\n        <GoogleLogin\r\n        clientId={getStringClientID()}\r\n        buttonText=\"Continue with Google\"\r\n        onSuccess={onLogin}\r\n        onFailure={console.log}\r\n        cookiePolicy={'single_host_origin'}\r\n        />\r\n        <div className=\"espacamento\"/>\r\n        <div className=\"espacamento\"/>\r\n        <input id=\"codigoDia\" type=\"number\" />\r\n        \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import '../App.css';\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className=\"Header\">\r\n        <div className='espacamento'/>\r\n        <h1>Bater ponto na ECS</h1>\r\n        <div className='espacamento'/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import './App.css';\r\n\r\nimport Login from './components/Login';\r\nimport Header from './components/Header';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Header/>\r\n      <Login/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}